<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Apology Letter</title>
<link href="https://fonts.googleapis.com/css2?family=Sacramento&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    font-family: 'Quicksand', sans-serif;
    background: linear-gradient(135deg, #ffd6e8, #ffe0f5);
    overflow-x: hidden;
    text-align: center;
  }

  h1, h2 {
    font-family: 'Sacramento', cursive;
    color: #ff4da6;
  }

  h1 { font-size: 60px; margin-top:50px; }
  h2 { font-size:50px; margin-top:50px; }

  /* Floating hearts */
  .heart {
    position: absolute;
    width: 20px;
    height: 20px;
    background: #ff4da6;
    transform: rotate(45deg);
    border-radius: 3px;
    opacity: 0.8;
  }
  .heart::before, .heart::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    background: #ff4da6;
    border-radius: 50%;
  }
  .heart::before { top: -10px; left: 0; }
  .heart::after { left: 10px; top: 0; }

  /* Heart memory path */
  .memory-container {
    position: relative;
    width: 100%;
    height: 600px;
    margin-top: 50px;
  }
  .memory {
    position: absolute;
    width: 200px;
    height: 200px;
    border-radius: 20px;
    overflow: hidden;
    opacity: 0;
    transform: scale(0.5);
    transition: all 0.8s ease;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    cursor: pointer;
  }
  .memory.active { opacity:1; transform: scale(1); z-index:10; }
  .memory img { width:100%; height:100%; object-fit:cover; }
  .memory .caption {
    position:absolute;
    bottom:0;
    width:100%;
    text-align:center;
    background: rgba(255,77,166,0.6);
    color:white;
    font-weight:600;
    padding:5px 0;
    font-size:16px;
  }

  button {
    background: #ff4da6;
    color:white;
    border:none;
    padding:10px 20px;
    border-radius:12px;
    cursor:pointer;
    font-size:20px;
    margin-top:30px;
    transition: transform 0.3s ease;
  }
  button:hover { transform: scale(1.1); }

  /* Letter section */
  #letter {
    margin: 30px auto;
    max-width: 600px;
    padding: 30px;
    background: #fff0f5;
    border: 2px solid #ff4da6;
    border-radius: 20px;
    font-size: 20px;
    line-height: 1.6;
    font-family: 'Quicksand', sans-serif;
    color: #ff4da6;
    text-align: left;
    position: relative;
  }

  @keyframes heartbeat {
    0% { transform: scale(1); }
    25% { transform: scale(1.3); }
    50% { transform: scale(1); }
    75% { transform: scale(1.3); }
    100% { transform: scale(1); }
  }
</style>
</head>
<body>
    <audio id="bgMusic" src="song.mp3" loop></audio>
<!-- Step 1: Floating Hearts -->
<h1>I am Sorry ‚ù§Ô∏è</h1>

<!-- Step 2: Heart Memory Path -->
<div class="memory-container" id="memoryContainer"></div>
<button id="nextBtn">Next ‚û°Ô∏è</button>



<script>
  // ---------------- Step 1: Floating Hearts ----------------
// ---------------- Step 1: Floating Hearts ----------------
const numHearts = 30;
for(let i=0;i<numHearts;i++){
  const heart = document.createElement('div');
  heart.classList.add('heart');
  heart.style.left = Math.random()*window.innerWidth+'px';
  heart.style.top = Math.random()*window.innerHeight+'px';
  heart.style.width = heart.style.height = 10+Math.random()*20+'px';
  heart.style.opacity = Math.random();
  document.body.appendChild(heart);
}

const hearts = document.querySelectorAll('.heart');
function animateHearts(){
  hearts.forEach(heart=>{
    let top = parseFloat(heart.style.top);
    top -= 0.5 + Math.random()*1;
    if(top < -50){
      top = window.innerHeight + 50;
      heart.style.left = Math.random()*window.innerWidth+'px';
    }
    heart.style.top = top+'px';
  });
  requestAnimationFrame(animateHearts);
}
animateHearts();

// ---------------- Step 2: Heart Memory Path ----------------
const memoryContainer = document.getElementById('memoryContainer');
const nextBtn = document.getElementById('nextBtn');

const photos = [
  {src:'your-photo1.jpg', caption:'I'},
  {src:'your-photo2.jpg', caption:'love'},
  {src:'your-photo3.jpg', caption:'you'},
  {src:'your-photo4.jpg', caption:'so'},
  {src:'your-photo5.jpg', caption:'much'}
];

const memories = [];

function heartCurve(t, scale=25){
  const x = 16*Math.pow(Math.sin(t),3);
  const y = 13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t);
  return {x:x*scale+window.innerWidth/2-100, y:-y*scale+300};
}

photos.forEach((photo,i)=>{
  const div=document.createElement('div');
  div.classList.add('memory');
  div.innerHTML=`<img src="${photo.src}" alt=""><div class="caption">${photo.caption}</div>`;
  const t=(Math.PI*2)*(i/photos.length)*0.5;
  const pos=heartCurve(t);
  div.style.left=pos.x+'px';
  div.style.top=pos.y+'px';
  memoryContainer.appendChild(div);
  memories.push(div);
});

let current = 0;
memories[current].classList.add('active');

function updateButtonText() {
  if(current < memories.length - 1){
    nextBtn.textContent = "Next ";
  } else {
    nextBtn.textContent = "Go to Letter üíå";
  }
}
updateButtonText();

nextBtn.addEventListener('click', ()=>{
  if(current < memories.length - 1){
    memories[current].classList.remove('active');
    current++;
    memories[current].classList.add('active');
    updateButtonText();
  } else {
    // Redirect to the envelope page (Step 3)
    window.location.href = "letter.html"; // <-- replace with your envelope page filename
  }
});

</script>
</body>
</html>
